
<div class="ui header">
	<div ng-click="goto('chat/' + event.$id + '/type/event')" class="ui right floated button"> <i class="ui icon wechat"></i> Chat </div>
	{{event.name}} 
	<div class="ui sub header">{{event.description}}</div>
	<div class="ui divider"></div>
</div>

<style>
	div.topic {
		margin-bottom: 10px;
	}

	div.choice .badge {
		font-weight: normal !important;
	}

	div.choice.chosen {
		font-weight: bold !important;
		background-color: #ccc;
	}

	div.choice {
		padding: 0em !important;
	}
</style>

	<div class="ui sticky topic">
		<h4 class="ui header"> Participants </h4>
		<div ng-repeat="u in event.users" class="ui choice attached segment">
			<span class="ui label">&nbsp;</span>
			<span  ng-bind="users.$getRecord(u).name"></span>
		</div>
	</div>

  	<div ng-repeat="t in event.topics" 
  		class="col-xs-12 link topic" 
  		ng-click="goto('eventTopic/' + t)">

  		<h4 style="margin-bottom:5px"> {{topics.$getRecord(t).name}} <br> <small> {{topics.$getRecord(t).description}} </small></h4>
  		<div 	ng-repeat="c in topics.$getRecord(t).choices" 
  				class="ui choice attached segment"
				ng-class="{ 'chosen': getVote(t, c) ==  maxVotes(t) }">
			<span class="ui label" ng-bind="getVote(t, c)"></span>
	  		<span ng-bind="c"></span>
  		</div>
  	</div>
  </div>
</div>

<div style="clear:both"></div>

<div>
	<button class="ui button fluid" ng-click="showChats = true">Chat</button>
</div>

<div class="chatbox" ng-include="'templates/chat.html'"></div>

<div style="clear:both"></div>


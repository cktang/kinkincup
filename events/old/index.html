<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Events</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="stylesheet" href="js/ratchet-v2.0.2/css/ratchet.min.css">
    <link rel="stylesheet" href="css/app.css">
    <script src="js/ratchet-v2.0.2/js/ratchet.min.js"></script>

    <script src="js/jquery-2.1.1.min.js"></script>

    <script src="js/underscore-min.js"></script>
    <script src="js/backbone-min.js"></script>
  </head>
  <body>

    <div id="buttons" class="pull-right" style="padding:10px">
      <a class="btn btn-xs" href="#newEvent"> New Event </a>
    </div>

    <ul class="table-view">
      <li class="table-view-cell table-view-divider">This week</li>
      <li class="table-view-cell media">
        <div class="text"> 
          <div class="t">Concert</div>
          <div class="d">Text about event</div>
        </div>
      </li>
      <li class="table-view-cell media">
        <div class="text"> 
          <div class="t">Birthday</div>
          <div class="d">Text about event</div>
        </div>
      </li>
      <li class="table-view-cell media">
        <div class="text"> 
          <div class="t">BBQ</div>
          <div class="d">Text about event</div>
        </div>
      </li>
    </ul>
  </body>

  <!-- new event below -->

  <div id="newEvent" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" href="#newEvent"></a>
      <h1 class="title">New Event</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <form>
        <input type="text" name=name placeholder="Event Name">
        <textarea rows="5" name=description placeholder="Descriptions"></textarea>
        <a class="btn btn-positive btn-block" href="#newEvent2">Next</a>
      </form>
    </div>
  </div>

  <div id="newEvent2" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" onclick="closeAllNewEventModals()"></a>
      <h1 class="title">Guests</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <ul class="table-view">
        <li class="table-view-cell">
          Kin Tang
          <div class="toggle">
            <div class="toggle-handle"></div>
          </div>
        </li>
        <li class="table-view-cell">
          Francois Lam
          <div class="toggle active">
            <div class="toggle-handle"></div>
          </div>
        </li>
        <li class="table-view-cell">
          Michael Jackson
          <div class="toggle">
            <div class="toggle-handle"></div>
          </div>
        </li>
      </ul>
      <form>
        <a class="btn btn-negative btn-block" style="width:40%; display:table !important" href="#newEvent2">Back</a>
        <a class="btn btn-positive btn-block" style="width:58%; display:table !important" href="#newEvent3">Next</a>
      </form>
    </div>
  </div>


  <div id="newEvent3" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" onclick="closeAllNewEventModals()"></a>
      <h1 class="title">Event Template</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <ul class="table-view" id="templates">
        <li class="table-view-cell">
          <a>
            <span class="icon"></span> Birthday
          </a>
        </li>
        <li class="table-view-cell">
          <a>
            <span class="icon"></span> Wedding
          </a>
        </li>
        <li class="table-view-cell">
          <a>
            <span class="icon"></span> Hiking
          </a>
        </li>
      </ul>
      <script>
        $('#templates li').click(function(e) { 
          $('#templates span').removeClass('icon-check');
          $(e.delegateTarget).find('span').addClass('icon-check');
        })
      </script>
      <form>
        <a class="btn btn-positive btn-block" href="#newEvent4">Next</a>
      </form>
    </div>
  </div>


  <div id="newEvent4" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" onclick="closeAllNewEventModals()"></a>
      <h1 class="title">Location</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <form>
        <input type="search" placeholder="Search">
        <a class="btn btn-positive btn-block" href="#newEvent5">Next</a>
      </form>
    </div>
  </div>


  <div id="newEvent5" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" onclick="closeAllNewEventModals()"></a>
      <h1 class="title">Gift</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <form>
        <input type="text" placeholder="Add Gift">
        <a class="btn btn-positive btn-block" href="#newEvent6">Next</a>
      </form>
    </div>
  </div>


  <div id="newEvent6" class="modal">
    <header class="bar bar-nav">
      <a class="icon icon-close pull-right" onclick="closeAllNewEventModals()"></a>
      <h1 class="title">Summary</h1>
    </header>

    <div class="content" style="padding-left:10px; padding-right:10px" >
      <form>
        <a class="btn btn-positive btn-block" onclick="closeAllNewEventModals(true)">Finish</a>
      </form>
    </div>
  </div>

  <script>
    function closeAllNewEventModals(confirmed) {
      if (!confirmed) {
        if (!confirm('Cancel event creation?')) return;
      }

      $('#newEvent6').removeClass('active');
      $('#newEvent5').removeClass('active');
      $('#newEvent4').removeClass('active');
      $('#newEvent3').removeClass('active');
      $('#newEvent2').removeClass('active');
      $('#newEvent').removeClass('active');
    }

    var eventModel = new Backbone.Model;

    EventView = Backbone.View.extend({
      model: eventModel,

      saveEvent1: function(form) {
        this.model.name = $(form).find('[name=name]');
      },

      saveEvent2: function() {

      }
    });

    var eventView = new EventView;
  </script>
</html>

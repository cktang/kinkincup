<!DOCTYPE html>
<html ng-app="app">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.js"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/css/bootstrap.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.13/angular.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Oswald:400,700,300' rel='stylesheet' type='text/css'>	

	<script src="https://cdn.firebase.com/js/client/2.1.2/firebase.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/0.9.2/angularfire.min.js"></script>

	<link href="css/style.css" rel="stylesheet">
	<meta name="apple-mobile-web-app-capable" content="yes">
</head>
<body ontouchstart="" ng-controller="controller">
	<div class="headerplaceholder" ng-include="'header.html'"></div>
	<div class="footerplaceholder" ng-include="'footer.html'"></div>

	<div class="container">	
		<div class="pull-right" style="padding:2px">
			<button class="btn" style="margin: 2px"> Sort </button>
		</div>
		<h4 class="full title"> My Events </h4>

		<style>
			li {
				border-radius: 0px !important;
				margin-left: -15px;
				margin-right: -15px;
			}
		</style>

      	<ul ng-repeat="e in events" class="list-group">
		  <li ng-click="goto(e.id)" class="list-group-item" style="background-color:#eee">
		  	<h3 ng-bind="e.name"></h3>
		  	<h6 ng-bind="e.description"></h6>
		  </li>
		</ul>

		<script>
			$('li').click(function() {
				location.href = 'eventsummary.html';
			})
		</script>

		<div class="bottomplaceholder"></div>
	</div>

	<script>
		var app = angular
					.module("app", ["firebase"])
					.controller("controller", ["$scope", "$firebase", '$window', function($scope, $firebase, $window) {
					    var ref = new Firebase("https://eventshk.firebaseio.com/event");
					    var sync = $firebase(ref);
  						$scope.events = sync.$asArray();					  

  						$scope.goto = function(id) {
  							$window.location.href = "eventsummary.html?id=" + id;
  						}
					}]);
	</script>
</body>
</html>
